# ========================================
# WHAGO Backend - Environment Variables
# ========================================

LOG_LEVEL=INFO


# Application Settings
ENVIRONMENT=development
DEBUG=true
API_HOST=0.0.0.0
API_PORT=8000
#SECRET_KEY=your-super-secret-key-change-in-production-min-32-chars
SECRET_KEY=6f3e52ad7d4b9a8c273f9bd7f2e6c1d0a9b0e2f1c3d4e5f6a7b8c9d0e1f2a3b4sadfdsa23fasd

# Database Configuration
#DATABASE_URL=postgresql+asyncpg://whago:whago123@localhost:5432/whago
DATABASE_URL=postgresql://whago:whago123@postgres:5432/whago
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=0

# Redis Configuration
#REDIS_URL=redis://localhost:6379/0
REDIS_URL=redis://redis:6379/0

REDIS_PASSWORD=
REDIS_DB=0

# Baileys Service
#BAILEYS_API_URL=http://localhost:3000
BAILEYS_API_URL=http://baileys:3000

BAILEYS_API_KEY=baileys-secret-key-change-me

# JWT Configuration
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# CORS Configuration
#CORS_ORIGINS=http://localhost:3000,http://localhost:8000

CORS_ORIGINS=["http://localhost:3000","http://localhost:8000"]


CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=*

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_LOGIN_ATTEMPTS=5
RATE_LIMIT_LOGIN_WINDOW_MINUTES=15

# File Upload
MAX_UPLOAD_SIZE_MB=16
ALLOWED_IMAGE_TYPES=jpg,jpeg,png,gif,webp
ALLOWED_VIDEO_TYPES=mp4,avi,mov
ALLOWED_AUDIO_TYPES=mp3,ogg,wav
ALLOWED_DOCUMENT_TYPES=pdf,doc,docx,xls,xlsx,txt,csv

# Email Configuration (SMTP)
SMTP_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=noreply@whago.com
SMTP_PASSWORD=your-smtp-password
SMTP_FROM_EMAIL=noreply@whago.com
SMTP_FROM_NAME=WHAGO Platform

# Payment Gateway - Stripe
STRIPE_ENABLED=false
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Payment Gateway - Mercado Pago
MERCADOPAGO_ENABLED=false
MERCADOPAGO_ACCESS_TOKEN=APP_USR-...
MERCADOPAGO_PUBLIC_KEY=APP_USR-...

# AWS S3 (Optional - for backups)
AWS_ENABLED=false
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_S3_BUCKET=whago-storage
AWS_REGION=us-east-1

# Monitoring - Sentry
SENTRY_ENABLED=false
SENTRY_DSN=https://...@sentry.io/...
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=logs/whago.log
LOG_FILE_MAX_SIZE_MB=100
LOG_FILE_BACKUP_COUNT=5

# Celery Configuration
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=America/Sao_Paulo
CELERY_ENABLE_UTC=true

# WhatsApp Configuration
WHATSAPP_MESSAGE_RETRY_COUNT=3
WHATSAPP_MESSAGE_TIMEOUT_SECONDS=30
WHATSAPP_QR_CODE_TIMEOUT_SECONDS=60
WHATSAPP_SESSION_CHECK_INTERVAL_SECONDS=300

# Chip Maturation Settings
CHIP_MATURATION_ENABLED=true
CHIP_MATURATION_PHASE1_DAYS=3
CHIP_MATURATION_PHASE2_DAYS=4
CHIP_MATURATION_PHASE3_DAYS=7
CHIP_MATURATION_MESSAGES_PHASE1=10
CHIP_MATURATION_MESSAGES_PHASE2=30
CHIP_MATURATION_MESSAGES_PHASE3=80

# Campaign Settings
CAMPAIGN_DEFAULT_INTERVAL_SECONDS=10
CAMPAIGN_MIN_INTERVAL_FREE=10
CAMPAIGN_MIN_INTERVAL_BUSINESS=5
CAMPAIGN_MIN_INTERVAL_ENTERPRISE=3
CAMPAIGN_MAX_CONTACTS_FREE=100
CAMPAIGN_MAX_CONTACTS_BUSINESS=10000

# Credits System
CREDITS_WELCOME_BONUS=100
CREDITS_PER_MESSAGE=1
CREDITS_LOW_THRESHOLD_PERCENT=10

# Plan Limits
PLAN_FREE_MAX_CHIPS=1
PLAN_FREE_MONTHLY_MESSAGES=500
PLAN_BUSINESS_MAX_CHIPS=3
PLAN_BUSINESS_MONTHLY_MESSAGES=5000
PLAN_ENTERPRISE_MAX_CHIPS=10
PLAN_ENTERPRISE_MONTHLY_MESSAGES=20000

# Data Retention (days)
DATA_RETENTION_FREE=30
DATA_RETENTION_BUSINESS=90
DATA_RETENTION_ENTERPRISE=-1

# Security
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_DIGIT=true
PASSWORD_REQUIRE_SPECIAL=true
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax

# Feature Flags
FEATURE_API_ACCESS=true
FEATURE_WEBHOOKS=true
FEATURE_ADVANCED_REPORTS=true
FEATURE_MULTI_USER=false
FEATURE_WHITE_LABEL=false

# Timezone
TZ=America/Sao_Paulo

<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Teste Aquecimento - Debug</title>
    <script>
        // Simular apiFetch
        window.apiFetch = async (url, options) => {
            console.log('üì° API Call:', url, options);
            
            if (url === '/chips') {
                return {
                    ok: true,
                    json: async () => [
                        {
                            id: '123',
                            alias: 'Chip Teste 1',
                            status: 'connected',
                            health_score: 95,
                            created_at: new Date().toISOString(),
                            last_activity_at: new Date().toISOString(),
                            extra_data: {}
                        },
                        {
                            id: '456',
                            alias: 'Chip Teste 2',
                            status: 'maturing',
                            health_score: 88,
                            created_at: new Date().toISOString(),
                            last_activity_at: new Date().toISOString(),
                            extra_data: {
                                heat_up: {
                                    status: 'in_progress',
                                    current_phase: 2,
                                    messages_sent_in_phase: 10
                                }
                            }
                        }
                    ]
                };
            }
            
            if (url.includes('/maturation-stats')) {
                return {
                    ok: true,
                    json: async () => ({
                        chip_id: '456',
                        alias: 'Chip Teste 2',
                        status: 'in_progress',
                        current_phase: 2,
                        total_phases: 5,
                        messages_sent_in_phase: 10,
                        elapsed_hours: 6.5,
                        total_hours: 72,
                        progress_percent: 9.03,
                        is_ready_for_campaign: false,
                        started_at: new Date().toISOString(),
                        group_id: 'abc-123-def',
                        recommendation: 'Aguarde mais 65.5h para conclus√£o.'
                    })
                };
            }
            
            return { ok: true, json: async () => ({}) };
        };
        
        // Verificar fun√ß√µes
        window.addEventListener('DOMContentLoaded', () => {
            console.log('‚úÖ P√°gina carregada');
            
            setTimeout(() => {
                console.log('\nüîç Verificando fun√ß√µes:');
                console.log('openMaturationStatsModal:', typeof window.openMaturationStatsModal);
                console.log('handleStopHeatUp:', typeof window.handleStopHeatUp);
                console.log('openGroupHeatUpModal:', typeof window.openGroupHeatUpModal);
                
                console.log('\nüîç Verificando modais no DOM:');
                console.log('maturation-stats-modal:', !!document.getElementById('maturation-stats-modal'));
                console.log('group-heatup-modal:', !!document.getElementById('group-heatup-modal'));
                
                console.log('\nüîç Verificando bot√µes:');
                const statsButtons = document.querySelectorAll('[data-action="view-stats"]');
                console.log('Bot√µes Stats encontrados:', statsButtons.length);
                statsButtons.forEach((btn, i) => {
                    console.log(`  Bot√£o ${i+1}:`, btn.textContent.trim());
                });
            }, 1000);
        });
    </script>
</head>
<body>
    <h1>Teste de Debug - Aquecimento de Chips</h1>
    <p>Abra o Console do DevTools (F12) para ver os logs.</p>
    <hr>
    <h2>Instru√ß√µes:</h2>
    <ol>
        <li>Abra <code>http://localhost:8000/chips</code> em outra aba</li>
        <li>Pressione F12 e v√° em Console</li>
        <li>Execute: <code>localStorage.clear(); location.reload();</code></li>
        <li>Verifique se os bot√µes "üìä Stats" aparecem</li>
        <li>Clique em um bot√£o "üìä Stats" e veja se o modal abre</li>
    </ol>
    <hr>
    <h3>Checklist:</h3>
    <ul>
        <li>‚úÖ Event listeners atachados corretamente</li>
        <li>‚úÖ Fun√ß√µes openMaturationStatsModal e handleStopHeatUp existem</li>
        <li>‚úÖ Modais existem no DOM</li>
        <li>‚è≥ Testando cliques nos bot√µes...</li>
    </ul>
</body>
</html>

